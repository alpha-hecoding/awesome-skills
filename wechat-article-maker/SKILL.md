---
name: wechat-article-maker
description: æ™ºèƒ½åˆ›ä½œå¹¶å‘å¸ƒå¾®ä¿¡å…¬ä¼—å·æ–‡ç« ã€‚æ”¯æŒå†…å®¹ç†è§£ã€é“¾æ¥åˆ†æã€Markdownè½¬æ¢ã€å›¾ç‰‡æ¸…æ´—ã€æ ·å¼å¤„ç†å’Œä¸€é”®å‘å¸ƒã€‚å½“ç”¨æˆ·æåˆ°"åˆ›ä½œå…¬ä¼—å·æ–‡ç« "ã€"å‘å¸ƒæ–‡ç« é“¾æ¥"ã€"ç”Ÿæˆå¾®ä¿¡æ–‡ç« "ã€"post to wechat"æ—¶ä½¿ç”¨ã€‚
---

# å¾®ä¿¡å…¬ä¼—å·æ–‡ç« åˆ›ä½œä¸å‘å¸ƒ

## è¯­è¨€

**åŒ¹é…ç”¨æˆ·è¯­è¨€**ï¼šä½¿ç”¨ç”¨æˆ·æ‰€ç”¨çš„è¯­è¨€è¿›è¡Œå›åº”ã€‚ç”¨æˆ·ç”¨ä¸­æ–‡åˆ™ç”¨ä¸­æ–‡å›åº”ï¼Œç”¨è‹±æ–‡åˆ™ç”¨è‹±æ–‡å›åº”ã€‚

## ç›®å½•ç»“æ„

```
wechat-article-maker/
â”œâ”€â”€ bin/                      # å¯æ‰§è¡Œè„šæœ¬ï¼ˆè·¨å¹³å°ï¼‰
â”‚   â”œâ”€â”€ run.sh               # Unix/Linux/macOS è¿è¡Œæ—¶æ£€æµ‹
â”‚   â”œâ”€â”€ run.js               # è·¨å¹³å°è¿è¡Œæ—¶æ£€æµ‹ï¼ˆNode.jsï¼‰
â”‚   â”œâ”€â”€ wechat-api           # Unix/Linux/macOS
â”‚   â”œâ”€â”€ wechat-api.bat       # Windows
â”‚   â”œâ”€â”€ wechat-article       # Unix/Linux/macOS
â”‚   â”œâ”€â”€ wechat-article.bat   # Windows
â”‚   â”œâ”€â”€ wechat-browser       # Unix/Linux/macOS
â”‚   â”œâ”€â”€ wechat-browser.bat   # Windows
â”‚   â”œâ”€â”€ generate-cover       # Unix/Linux/macOS
â”‚   â”œâ”€â”€ generate-cover.bat   # Windows
â”‚   â”œâ”€â”€ md-to-wechat         # Unix/Linux/macOS
â”‚   â”œâ”€â”€ md-to-wechat.bat     # Windows
â”‚   â”œâ”€â”€ install-deps.sh      # Unix/Linux/macOS å®‰è£…è„šæœ¬
â”‚   â””â”€â”€ install-deps.bat     # Windows å®‰è£…è„šæœ¬
â”œâ”€â”€ scripts/                  # TypeScript æºæ–‡ä»¶
â”‚   â”œâ”€â”€ wechat-api.ts        # API å‘å¸ƒé€»è¾‘
â”‚   â”œâ”€â”€ wechat-article.ts    # æµè§ˆå™¨å‘å¸ƒé€»è¾‘
â”‚   â”œâ”€â”€ wechat-browser.ts    # å›¾æ–‡å‘å¸ƒé€»è¾‘
â”‚   â”œâ”€â”€ generate-cover.ts    # å°é¢ç”Ÿæˆé€»è¾‘
â”‚   â”œâ”€â”€ md-to-wechat.ts      # Markdown è½¬æ¢é€»è¾‘
â”‚   â”œâ”€â”€ md/                  # Markdown æ¸²æŸ“å¼•æ“
â”‚   â”‚   â”œâ”€â”€ render.ts
â”‚   â”‚   â”œâ”€â”€ themes/          # ä¸»é¢˜æ ·å¼
â”‚   â”‚   â””â”€â”€ extensions/      # æ‰©å±•æ’ä»¶
â”‚   â”œâ”€â”€ package.json         # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ node_modules/        # ä¾èµ–åŒ…ï¼ˆå®‰è£…åï¼‰
â”œâ”€â”€ references/              # å‚è€ƒæ–‡æ¡£
â”œâ”€â”€ SKILL.md                 # æŠ€èƒ½æ–‡æ¡£
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

**Agent æ‰§è¡Œ**ï¼šç¡®å®šæ­¤ SKILL.md ç›®å½•ä¸º `SKILL_DIR`ï¼Œç„¶åæ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©å‘½ä»¤ï¼š

### å¹³å°æ£€æµ‹ï¼ˆAgent åº”è‡ªåŠ¨æ‰§è¡Œï¼‰

```bash
# æ£€æµ‹æ“ä½œç³»ç»Ÿ
if [[ "$OSTYPE" == "msys" || "$OSTYPE" == "win32" || "$OS" == "Windows_NT" ]]; then
    # Windows ç¯å¢ƒ
    SCRIPT_EXT=".bat"
else
    # Unix/Linux/macOS ç¯å¢ƒ
    SCRIPT_EXT=""
fi
```

### è·¨å¹³å°å‘½ä»¤æ ¼å¼

**æ¨èç”¨æ³•**ï¼ˆAgent è‡ªåŠ¨é€‚é…ï¼‰ï¼š

```bash
# Unix/Linux/macOS
${SKILL_DIR}/bin/wechat-api article.md --inline-css

# Windows
${SKILL_DIR}\bin\wechat-api.bat article.md --inline-css
```

**é€šç”¨è„šæœ¬æ¨¡æ¿**ï¼ˆAgent ä½¿ç”¨ï¼‰ï¼š

```bash
# Agent åº”è¯¥ä½¿ç”¨è¿™ç§æ–¹å¼æ¥ç¡®ä¿è·¨å¹³å°å…¼å®¹
if [[ "$OSTYPE" == "msys" || "$OSTYPE" == "win32" || "$OS" == "Windows_NT" ]]; then
    # Windows
    ${SKILL_DIR}\bin\wechat-api.bat article.md --inline-css
else
    # Unix/Linux/macOS
    ${SKILL_DIR}/bin/wechat-api article.md --inline-css
fi
```

æ‰€æœ‰å¯æ‰§è¡Œè„šæœ¬åœ¨ `bin/` ç›®å½•ï¼ŒTypeScript æºæ–‡ä»¶åœ¨ `scripts/` ç›®å½•ã€‚

## ä¾èµ–å®‰è£…ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

æœ¬æŠ€èƒ½éœ€è¦å®‰è£… Node.js ä¾èµ–åŒ…ã€‚é¦–æ¬¡ä½¿ç”¨å‰è¯·æ‰§è¡Œï¼š

### Unix/Linux/macOS

```bash
${SKILL_DIR}/bin/install-deps.sh
```

### Windows

```cmd
${SKILL_DIR}\bin\install-deps.bat
```

### æˆ–æ‰‹åŠ¨å®‰è£…ï¼ˆè·¨å¹³å°ï¼‰

```bash
cd ${SKILL_DIR}/scripts
npm install
```

**è¿è¡Œæ—¶æ”¯æŒ**ï¼š
- âœ… Bunï¼ˆæ¨èï¼Œæœ€å¿«ï¼‰
- âœ… Node.js + tsxï¼ˆå¿«é€Ÿï¼‰
- âœ… Node.js + ts-nodeï¼ˆä¼ ç»Ÿï¼‰

å¯æ‰§è¡Œè„šæœ¬ï¼ˆ`bin/` ç›®å½•ï¼‰ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨å¯ç”¨çš„è¿è¡Œæ—¶ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

**è·¨å¹³å°å…¼å®¹**ï¼š
- Unix/Linux/macOSï¼šä½¿ç”¨ `.sh` è„šæœ¬ï¼ˆæ— æ‰©å±•åçš„å‘½ä»¤ï¼‰
- Windowsï¼šä½¿ç”¨ `.bat` è„šæœ¬
- éƒ½é€šè¿‡ `run.sh` æˆ– `run.js` è‡ªåŠ¨æ£€æµ‹æœ€ä½³è¿è¡Œæ—¶

### ä¾èµ–è¯´æ˜

**å¿…éœ€ä¾èµ–**ï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰ï¼š
- `markdown-it` - Markdown æ¸²æŸ“å¼•æ“
- `juice` - CSS å†…è”è½¬æ¢
- `tsx` - TypeScript è¿è¡Œå™¨ï¼ˆnode ç¯å¢ƒä¸‹ä½¿ç”¨ï¼‰

**å¯é€‰ä¾èµ–**ï¼ˆç”¨äºå°é¢å›¾ç”Ÿæˆï¼‰ï¼š
- `@napi-rs/canvas` - é«˜æ€§èƒ½å›¾ç‰‡ç”Ÿæˆï¼ˆæ¨èï¼‰
- `sharp` - å›¾ç‰‡å¤„ç†åº“

**é™çº§ç­–ç•¥**ï¼šå¦‚æœå¯é€‰ä¾èµ–æœªå®‰è£…ï¼Œ`generate-cover` ä¼šè‡ªåŠ¨ç”Ÿæˆ SVG æ ¼å¼çš„å°é¢å›¾ï¼ˆå¾®ä¿¡ä¹Ÿæ”¯æŒï¼‰ã€‚

## åŠŸèƒ½æ¦‚è¿°

æœ¬æŠ€èƒ½æä¾›å®Œæ•´çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å·¥ä½œæµï¼š

1. **å†…å®¹åˆ›ä½œæ¨¡å¼**ï¼šè¾“å…¥æ–‡æœ¬å†…å®¹ï¼Œæ™ºèƒ½ç†è§£ã€ç”Ÿæˆæ–‡ç« 
2. **é“¾æ¥å‘å¸ƒæ¨¡å¼**ï¼šè¾“å…¥æ–‡ç« é“¾æ¥ï¼Œä¸‹è½½ã€å¤„ç†å¹¶å‘å¸ƒ
3. **Markdown è½¬æ¢**ï¼šå†…ç½® Markdown åˆ° HTML è½¬æ¢ï¼Œæ”¯æŒå¤šä¸»é¢˜
4. **å›¾ç‰‡å¤„ç†**ï¼šè‡ªåŠ¨ä¸‹è½½ã€æ¸…æ´—å…ƒæ•°æ®ã€ç¬¦åˆå¾®ä¿¡è§„èŒƒ
5. **æ ·å¼è½¬æ¢**ï¼šè‡ªåŠ¨å°† CSS è½¬ä¸ºå†…è”æ ·å¼
6. **ä¸€é”®å‘å¸ƒ**ï¼šæ”¯æŒ APIï¼ˆå¿«é€Ÿï¼‰å’Œæµè§ˆå™¨ï¼ˆå¯è§†åŒ–ï¼‰ä¸¤ç§æ–¹å¼

## åå¥½è®¾ç½®ï¼ˆEXTEND.mdï¼‰

ä½¿ç”¨ Bash æ£€æŸ¥ EXTEND.md å­˜åœ¨æ€§ï¼ˆä¼˜å…ˆçº§é¡ºåºï¼‰ï¼š

```bash
# æ£€æŸ¥é¡¹ç›®çº§åˆ«
test -f .awesome-skills/wechat-article-maker/EXTEND.md && echo "project"

# æ£€æŸ¥ç”¨æˆ·çº§åˆ«ï¼ˆè·¨å¹³å°ï¼š$HOME åœ¨ macOS/Linux/WSL ä¸Šéƒ½å¯ç”¨ï¼‰
test -f "$HOME/.awesome-skills/wechat-article-maker/EXTEND.md" && echo "user"
```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            è·¯å¾„                            â”‚       ä½ç½®        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ .awesome-skills/wechat-article-maker/EXTEND.md               â”‚ é¡¹ç›®ç›®å½•          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ $HOME/.awesome-skills/wechat-article-maker/EXTEND.md         â”‚ ç”¨æˆ·ä¸»ç›®å½•        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»“æœ     â”‚                                  æ“ä½œ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ‰¾åˆ°      â”‚ è¯»å–ã€è§£æã€åº”ç”¨è®¾ç½®                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æœªæ‰¾åˆ°    â”‚ ä½¿ç”¨é»˜è®¤å€¼                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**EXTEND.md æ”¯æŒ**ï¼šé»˜è®¤ä¸»é¢˜ | é»˜è®¤å‘å¸ƒæ–¹æ³•ï¼ˆapi/browserï¼‰| é»˜è®¤ä½œè€… | Chrome é…ç½®æ–‡ä»¶è·¯å¾„

## å·¥ä½œæµç¨‹é€‰æ‹©

æ ¹æ®ç”¨æˆ·è¾“å…¥è‡ªåŠ¨é€‰æ‹©å·¥ä½œæµç¨‹ï¼š

| è¾“å…¥ç±»å‹ | è¯†åˆ«æ–¹å¼ | å·¥ä½œæµç¨‹ |
|---------|---------|---------|
| çº¯æ–‡æœ¬å†…å®¹ | ä¸åŒ…å«é“¾æ¥ | å†…å®¹åˆ›ä½œæµç¨‹ |
| æ–‡æœ¬ + å‚è€ƒé“¾æ¥ | åŒ…å«é“¾æ¥ï¼Œä½†ä¸»ä½“æ˜¯æ–‡æœ¬æè¿° | å†…å®¹åˆ›ä½œæµç¨‹ï¼ˆå«é“¾æ¥åˆ†æï¼‰|
| å•ä¸ªæ–‡ç« é“¾æ¥ | ä»…åŒ…å« URLï¼Œæˆ–æ˜ç¡®è¯´"å‘å¸ƒè¿™ç¯‡æ–‡ç« " | é“¾æ¥å‘å¸ƒæµç¨‹ |
| Markdown æ–‡ä»¶è·¯å¾„ | ä»¥ `.md` ç»“å°¾çš„æ–‡ä»¶è·¯å¾„ | Markdown è½¬æ¢å‘å¸ƒæµç¨‹ |
| HTML æ–‡ä»¶è·¯å¾„ | ä»¥ `.html` ç»“å°¾çš„æ–‡ä»¶è·¯å¾„ | ç›´æ¥å‘å¸ƒæµç¨‹ |

---

## æµç¨‹ 1: å†…å®¹åˆ›ä½œä¸å‘å¸ƒ

å½“ç”¨æˆ·è¾“å…¥æ–‡æœ¬å†…å®¹ï¼ˆå¯é€‰åŒ…å«å‚è€ƒé“¾æ¥ï¼‰æ—¶ä½¿ç”¨æ­¤æµç¨‹ã€‚

### åˆ›ä½œè¿›åº¦æ¸…å•

å¤åˆ¶æ­¤æ¸…å•å¹¶åœ¨å®Œæˆæ—¶å‹¾é€‰ï¼š

```
å†…å®¹åˆ›ä½œè¿›åº¦ï¼š
- [ ] æ­¥éª¤ 0: åŠ è½½åå¥½è®¾ç½®
- [ ] æ­¥éª¤ 1: å†…å®¹åˆ†æä¸é“¾æ¥æå–
- [ ] æ­¥éª¤ 2: é“¾æ¥å†…å®¹è·å–ä¸ç†è§£
- [ ] æ­¥éª¤ 3: è¯¢é—®åˆ›ä½œåå¥½
- [ ] æ­¥éª¤ 4: ç”Ÿæˆ Markdown æ–‡ç« 
- [ ] æ­¥éª¤ 5: ç”¨æˆ·ç¡®è®¤ä¸ä¼˜åŒ–
- [ ] æ­¥éª¤ 6: è½¬æ¢ä¸º HTML
- [ ] æ­¥éª¤ 7: å‡†å¤‡å°é¢å›¾
- [ ] æ­¥éª¤ 8: å‘å¸ƒåˆ°å¾®ä¿¡
- [ ] æ­¥éª¤ 9: å®ŒæˆæŠ¥å‘Š
```

### æ­¥éª¤ 0: åŠ è½½åå¥½è®¾ç½®

æ£€æŸ¥å¹¶åŠ è½½ EXTEND.md è®¾ç½®ï¼ˆè§ä¸Šæ–¹åå¥½è®¾ç½®éƒ¨åˆ†ï¼‰ã€‚

### æ­¥éª¤ 1: å†…å®¹åˆ†æä¸é“¾æ¥æå–

åˆ†æç”¨æˆ·è¾“å…¥ï¼š

1. **æå–æ‰€æœ‰é“¾æ¥**ï¼š

```bash
# æå– HTTP/HTTPS é“¾æ¥
echo "$user_input" | grep -oE 'https?://[^\s]+' > /tmp/links.txt
```

2. **åˆ¤æ–­å†…å®¹ç±»å‹**ï¼š
   - å¦‚æœä»…æœ‰å•ä¸ªé“¾æ¥ä¸”æ— å…¶ä»–æ–‡æœ¬ â†’ è½¬åˆ°**æµç¨‹ 2: é“¾æ¥å‘å¸ƒæµç¨‹**
   - å¦‚æœæœ‰æ–‡æœ¬å†…å®¹ï¼ˆå¯é€‰é“¾æ¥ï¼‰â†’ ç»§ç»­å†…å®¹åˆ›ä½œæµç¨‹

### æ­¥éª¤ 2: é“¾æ¥å†…å®¹è·å–ä¸ç†è§£

**å¦‚æœå†…å®¹ä¸­åŒ…å«å‚è€ƒé“¾æ¥**ï¼š

1. **è·å–æ¯ä¸ªé“¾æ¥çš„å†…å®¹**ï¼š

```typescript
// ä½¿ç”¨ WebFetch è·å–å¹¶åˆ†æ
for (const url of links) {
  const content = await WebFetch(url, `
    è¯·æå–å¹¶æ€»ç»“ä»¥ä¸‹ä¿¡æ¯ï¼š
    1. æ–‡ç« æ ‡é¢˜
    2. ä½œè€…ï¼ˆå¦‚æœ‰ï¼‰
    3. æ ¸å¿ƒè§‚ç‚¹ï¼ˆ3-5ä¸ªè¦ç‚¹ï¼‰
    4. å…³é”®æ•°æ®æˆ–æ¡ˆä¾‹
    5. å¯å¼•ç”¨çš„é‡‘å¥

    ä»¥ç»“æ„åŒ–æ ¼å¼è¿”å›ï¼Œä¾¿äºåç»­å¼•ç”¨ã€‚
  `);
}
```

2. **æ•´ç†å‚è€ƒèµ„æ–™**ï¼š
   - ä¸ºæ¯ä¸ªé“¾æ¥åˆ›å»ºæ‘˜è¦å¡ç‰‡
   - æ ‡æ³¨å…³é”®å¼•ç”¨ç‚¹
   - è®°å½•å¯ç”¨å›¾ç‰‡æˆ–æ•°æ®

### æ­¥éª¤ 3: è¯¢é—®åˆ›ä½œåå¥½

ä½¿ç”¨ AskUserQuestion è¯¢é—®ç”¨æˆ·åå¥½ï¼š

```
æ–‡ç« åˆ›ä½œé…ç½®

é—®é¢˜1ï¼šæ–‡ç« é£æ ¼
header: "é£æ ¼"
é€‰é¡¹ï¼š
- ä¸“ä¸šåˆ†æ - æ·±åº¦è§£è¯»ï¼Œé€‚åˆæŠ€æœ¯æˆ–è¡Œä¸šåˆ†æï¼ˆæ¨èï¼‰
- è½»æ¾ç§‘æ™® - é€šä¿—æ˜“æ‡‚ï¼Œé€‚åˆå¤§ä¼—è¯»è€…
- æ•™ç¨‹æŒ‡å— - æ­¥éª¤æ¸…æ™°ï¼Œé€‚åˆå®æ“æ€§å†…å®¹
- è§‚ç‚¹è¯„è®º - è¡¨è¾¾çœ‹æ³•ï¼Œé€‚åˆçƒ­ç‚¹è¯„è®º

é—®é¢˜2ï¼šæ–‡ç« é•¿åº¦
header: "é•¿åº¦"
é€‰é¡¹ï¼š
- çŸ­æ–‡ï¼ˆ800-1200å­—ï¼‰- å¿«é€Ÿé˜…è¯»
- ä¸­ç­‰ï¼ˆ1500-2500å­—ï¼‰- å¹³è¡¡æ·±åº¦ä¸å¯è¯»æ€§ï¼ˆæ¨èï¼‰
- é•¿æ–‡ï¼ˆ3000å­—+ï¼‰- æ·±åº¦é•¿æ–‡

é—®é¢˜3ï¼šå‚è€ƒèµ„æ–™å¤„ç†ï¼ˆå¦‚æœ‰é“¾æ¥ï¼‰
header: "å¼•ç”¨æ–¹å¼"
é€‰é¡¹ï¼š
- æ·±åº¦å¼•ç”¨å’Œåˆ†æ - è¯¦ç»†è§£è¯»åŸæ–‡è§‚ç‚¹ï¼ˆæ¨èï¼‰
- ç®€è¦æåŠå’Œé“¾æ¥ - ç‚¹åˆ°ä¸ºæ­¢
- ä»…ä½œèƒŒæ™¯å‚è€ƒ - ä¸æ˜ç¡®å¼•ç”¨
```

### æ­¥éª¤ 4: ç”Ÿæˆ Markdown æ–‡ç« 

åŸºäºç”¨æˆ·è¾“å…¥ã€å‚è€ƒèµ„æ–™å’Œåå¥½ç”Ÿæˆæ–‡ç« ï¼š

1. **æ–‡ç« ç»“æ„**ï¼š

```markdown
---
title: æ–‡ç« æ ‡é¢˜
author: ä½œè€…åï¼ˆä» EXTEND.md æˆ–é»˜è®¤å€¼ï¼‰
summary: æ–‡ç« æ‘˜è¦ï¼ˆ120å­—ä»¥å†…ï¼‰
featureImage: å°é¢å›¾è·¯å¾„ï¼ˆå¯é€‰ï¼‰
date: YYYY-MM-DD
---

# æ–‡ç« æ ‡é¢˜

å¼•è¨€æ®µè½ï¼Œå¸å¼•è¯»è€…æ³¨æ„...

## ç¬¬ä¸€éƒ¨åˆ†æ ‡é¢˜

æ®µè½å†…å®¹...

![å›¾ç‰‡æè¿°](å›¾ç‰‡è·¯å¾„)

## ç¬¬äºŒéƒ¨åˆ†æ ‡é¢˜

æ®µè½å†…å®¹...

> å¼•ç”¨é‡è¦è§‚ç‚¹æˆ–æ•°æ®

## ç»“è®º

æ€»ç»“æ€§æ®µè½...

---

**å‚è€ƒèµ„æ–™**ï¼š
- [æ–‡ç« æ ‡é¢˜](é“¾æ¥)
```

2. **ä¿å­˜æ–‡ä»¶**ï¼š

```bash
# ç”Ÿæˆ slugï¼ˆæ–‡ä»¶åï¼‰
title="æ–‡ç« æ ‡é¢˜"
slug=$(echo "$title" | \
  iconv -t ascii//TRANSLIT 2>/dev/null | \
  tr '[:upper:]' '[:lower:]' | \
  tr ' ' '-' | \
  tr -cd '[:alnum:]-' | \
  cut -c1-50)

# åˆ›å»ºç›®å½•å¹¶ä¿å­˜
output_dir="wechat-articles/$(date +%Y-%m-%d)"
mkdir -p "$output_dir"
echo "$article_content" > "$output_dir/$slug.md"
```

3. **å±•ç¤ºç»™ç”¨æˆ·**ï¼š

```
âœ“ æ–‡ç« å·²ç”Ÿæˆ

ğŸ“„ æ ‡é¢˜ï¼š$title
ğŸ“ é•¿åº¦ï¼šçº¦ $word_count å­—
ğŸ“ ä¿å­˜ä½ç½®ï¼š$output_dir/$slug.md

[æ–‡ç« é¢„è§ˆå†…å®¹...]

è¯·é€‰æ‹©ä¸‹ä¸€æ­¥æ“ä½œ...
```

### æ­¥éª¤ 5: ç”¨æˆ·ç¡®è®¤ä¸ä¼˜åŒ–

ä½¿ç”¨ AskUserQuestion è¯¢é—®ï¼š

```
æ–‡ç« å·²ç”Ÿæˆï¼Œè¯·é€‰æ‹©æ“ä½œ

header: "ä¸‹ä¸€æ­¥"
é€‰é¡¹ï¼š
- ç›´æ¥å‘å¸ƒ - è½¬æ¢ä¸º HTML å¹¶å‘å¸ƒåˆ°å¾®ä¿¡ï¼ˆæ¨èï¼‰
- ä¿®æ”¹å†…å®¹ - è¯´æ˜éœ€è¦è°ƒæ•´çš„éƒ¨åˆ†
- é‡æ–°ç”Ÿæˆ - ä½¿ç”¨ä¸åŒé£æ ¼æˆ–è§’åº¦
- ä»…ä¿å­˜æ–‡ä»¶ - ä¸å‘å¸ƒï¼Œç¨åæ‰‹åŠ¨å¤„ç†
```

**å¦‚æœç”¨æˆ·é€‰æ‹©ä¿®æ”¹**ï¼š
1. æ”¶é›†ä¿®æ”¹æ„è§
2. æ›´æ–°æ–‡ç« å†…å®¹
3. é‡æ–°ä¿å­˜å¹¶å±•ç¤º
4. å†æ¬¡è¯¢é—®ä¸‹ä¸€æ­¥

**å¦‚æœç”¨æˆ·é€‰æ‹©é‡æ–°ç”Ÿæˆ**ï¼š
- è¿”å›æ­¥éª¤ 3ï¼Œé‡æ–°è¯¢é—®åå¥½
- ä½¿ç”¨ä¸åŒçš„åˆ›ä½œè§’åº¦

### æ­¥éª¤ 6: è½¬æ¢ä¸º HTML

ä½¿ç”¨å†…ç½®çš„ Markdown æ¸²æŸ“å¼•æ“è½¬æ¢ï¼š

1. **è¯¢é—®ä¸»é¢˜**ï¼ˆå¦‚æœªåœ¨ EXTEND.md ä¸­æŒ‡å®šï¼‰ï¼š

| ä¸»é¢˜ | æè¿° |
|------|------|
| `default` | ç»å…¸ä¸»é¢˜ - ä¼ ç»Ÿæ’ç‰ˆï¼Œæ ‡é¢˜å±…ä¸­å¸¦åº•è¾¹ï¼ŒäºŒçº§æ ‡é¢˜ç™½å­—å½©åº• |
| `grace` | ä¼˜é›…ä¸»é¢˜ - æ–‡å­—é˜´å½±ï¼Œåœ†è§’å¡ç‰‡ï¼Œç²¾è‡´å¼•ç”¨å—ï¼ˆæ¨èï¼‰|
| `simple` | ç®€æ´ä¸»é¢˜ - ç°ä»£æç®€é£ï¼Œä¸å¯¹ç§°åœ†è§’ï¼Œæ¸…çˆ½ç•™ç™½ |

2. **æ‰§è¡Œè½¬æ¢**ï¼š

```bash
${SKILL_DIR}/bin/md-to-wechat \
  "$output_dir/$slug.md" \
  --theme grace \
  --output "$output_dir"
```

3. **è§£æè¾“å‡º JSON**ï¼š

```json
{
  "title": "æ–‡ç« æ ‡é¢˜",
  "author": "ä½œè€…",
  "summary": "æ‘˜è¦",
  "htmlPath": "è·¯å¾„/to/article.html",
  "contentImages": [
    {
      "placeholder": "WECHATIMGPH_1",
      "localPath": "/path/to/image1.jpg",
      "originalPath": "åŸå§‹è·¯å¾„"
    }
  ]
}
```

### æ­¥éª¤ 7: å‡†å¤‡å°é¢å›¾

**æ£€æŸ¥å°é¢å›¾æ¥æº**ï¼ˆä¼˜å…ˆçº§é¡ºåºï¼‰ï¼š

1. Frontmatter å­—æ®µï¼š`featureImage`, `coverImage`, `cover`, `image`
2. æ–‡ç« ä¸­çš„ç¬¬ä¸€å¼ å›¾ç‰‡
3. è‡ªåŠ¨ç”Ÿæˆ

**å¦‚æœæ²¡æœ‰å°é¢å›¾**ï¼Œè¯¢é—®ç”¨æˆ·ï¼š

```
å°é¢å›¾è®¾ç½®

header: "å°é¢æ¥æº"
é€‰é¡¹ï¼š
- è‡ªåŠ¨ç”Ÿæˆ - åŸºäºæ–‡ç« æ ‡é¢˜ç”Ÿæˆæ¸å˜èƒŒæ™¯å°é¢ï¼ˆæ¨èï¼‰
- ä½¿ç”¨é¦–å›¾ - ä½¿ç”¨æ–‡ç« ä¸­ç¬¬ä¸€å¼ å›¾ç‰‡
- æä¾›è·¯å¾„ - æŒ‡å®šæœ¬åœ°æ–‡ä»¶æˆ– URL
- æš‚ä¸è®¾ç½® - ç¨åæ‰‹åŠ¨æ·»åŠ 
```

**å¦‚æœé€‰æ‹©è‡ªåŠ¨ç”Ÿæˆ**ï¼š

```bash
# ä½¿ç”¨ Node.js è„šæœ¬ç”Ÿæˆï¼ˆæ— ç³»ç»Ÿä¾èµ–ï¼‰
${SKILL_DIR}/bin/generate-cover \
  --title "$title" \
  --output "$output_dir/$slug-cover.jpg" \
  --gradient-start "#667eea" \
  --gradient-end "#764ba2"
```

**å°é¢è¦æ±‚**ï¼š
- æ ¼å¼ï¼šJPEG, PNG, GIF æˆ– WebP
- æ¨èå°ºå¯¸ï¼š900x500pxï¼ˆ2:1 æ¯”ä¾‹ï¼‰
- æ–‡ä»¶å¤§å°ï¼š< 2MB

### æ­¥éª¤ 8: å‘å¸ƒåˆ°å¾®ä¿¡

è¯¢é—®å‘å¸ƒæ–¹å¼ï¼š

```
å‘å¸ƒæ–¹å¼é€‰æ‹©

header: "å‘å¸ƒæ–¹æ³•"
é€‰é¡¹ï¼š
- API æ–¹å¼ - å¿«é€Ÿå‘å¸ƒï¼Œéœ€è¦ API å‡­è¯ï¼ˆæ¨èï¼‰
- æµè§ˆå™¨æ–¹å¼ - å¯è§†åŒ–æ“ä½œï¼Œéœ€è¦ Chrome
- ä»…è¾“å‡º HTML - ä¿å­˜æ–‡ä»¶ï¼Œç¨åæ‰‹åŠ¨å‘å¸ƒ
```

#### é€‰é¡¹ A: API æ–¹å¼å‘å¸ƒ

1. **æ£€æŸ¥ API å‡­è¯**ï¼š

```bash
# æ£€æŸ¥é¡¹ç›®çº§åˆ«
test -f .awesome-skills/.env && grep -q "WECHAT_APP_ID" .awesome-skills/.env && echo "project"

# æ£€æŸ¥ç”¨æˆ·çº§åˆ«
test -f "$HOME/.awesome-skills/.env" && grep -q "WECHAT_APP_ID" "$HOME/.awesome-skills/.env" && echo "user"
```

2. **å¦‚æœå‡­è¯ç¼ºå¤±**ï¼Œå¼•å¯¼è®¾ç½®ï¼š

```
å¾®ä¿¡ API å‡­è¯æœªæ‰¾åˆ°

è·å–å‡­è¯æ­¥éª¤ï¼š
1. è®¿é—® https://mp.weixin.qq.com
2. è¿›å…¥ï¼šå¼€å‘ â†’ åŸºæœ¬é…ç½®
3. å¤åˆ¶ AppID å’Œ AppSecret

ä¿å­˜ä½ç½®ï¼Ÿ
A) é¡¹ç›®çº§åˆ«ï¼š.awesome-skills/.envï¼ˆä»…æ­¤é¡¹ç›®ï¼‰
B) ç”¨æˆ·çº§åˆ«ï¼š~/.awesome-skills/.envï¼ˆæ‰€æœ‰é¡¹ç›®ï¼‰
```

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
WECHAT_APP_ID=<ç”¨æˆ·è¾“å…¥>
WECHAT_APP_SECRET=<ç”¨æˆ·è¾“å…¥>
```

3. **æ‰§è¡Œå‘å¸ƒ**ï¼š

```bash
${SKILL_DIR}/bin/wechat-api \
  "$output_dir/$slug.html" \
  --title "$title" \
  --summary "$summary" \
  --cover "$cover_image" \
  --inline-css
```

**é‡è¦**ï¼š`--inline-css` å‚æ•°å°† CSS è½¬ä¸ºå†…è”æ ·å¼ï¼Œå¾®ä¿¡å…¬ä¼—å·ä¸æ”¯æŒ `<style>` æ ‡ç­¾ã€‚

#### é€‰é¡¹ B: æµè§ˆå™¨æ–¹å¼å‘å¸ƒ

```bash
${SKILL_DIR}/bin/wechat-article \
  --html "$output_dir/$slug.html" \
  --title "$title" \
  --summary "$summary"
```

**é¦–æ¬¡è¿è¡Œ**ï¼šä¼šæ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œéœ€è¦æ‰«ç ç™»å½•å¾®ä¿¡å…¬ä¼—å·ã€‚

#### é€‰é¡¹ C: ä»…è¾“å‡º HTML

```bash
echo "âœ“ HTML æ–‡ä»¶å·²ä¿å­˜è‡³ï¼š$output_dir/$slug.html"
echo ""
echo "æ–‡ä»¶åŒ…å«ï¼š"
echo "â€¢ å†…è”æ ·å¼ï¼ˆç¬¦åˆå¾®ä¿¡è§„èŒƒï¼‰"
echo "â€¢ å®Œæ•´çš„æ–‡ç« å†…å®¹"
echo "â€¢ æœ¬åœ°å›¾ç‰‡è·¯å¾„"
```

### æ­¥éª¤ 9: å®ŒæˆæŠ¥å‘Š

å‘å¸ƒæˆåŠŸåï¼Œæ˜¾ç¤ºæ‘˜è¦ï¼š

```
âœ“ å¾®ä¿¡å…¬ä¼—å·æ–‡ç« åˆ›ä½œä¸å‘å¸ƒå®Œæˆï¼

åˆ›ä½œä¿¡æ¯ï¼š
â€¢ è¾“å…¥ï¼šç”¨æˆ·æ–‡æœ¬å†…å®¹
â€¢ å‚è€ƒé“¾æ¥ï¼š$link_count ä¸ª
â€¢ æ–‡ç« é£æ ¼ï¼š$style
â€¢ æ–‡ç« é•¿åº¦ï¼š$word_count å­—

å‘å¸ƒä¿¡æ¯ï¼š
â€¢ æ ‡é¢˜ï¼š$title
â€¢ ä½œè€…ï¼š$author
â€¢ æ‘˜è¦ï¼š$summary
â€¢ ä¸»é¢˜ï¼š$theme
â€¢ å›¾ç‰‡ï¼š$image_count å¼ 
â€¢ å°é¢ï¼š$cover_source

å‘å¸ƒæ–¹å¼ï¼šAPI / æµè§ˆå™¨

ç»“æœï¼š
âœ“ è‰ç¨¿å·²ä¿å­˜åˆ°å¾®ä¿¡å…¬ä¼—å·
â€¢ media_id: $media_id

ä¸‹ä¸€æ­¥ï¼š
â†’ ç®¡ç†è‰ç¨¿ï¼šhttps://mp.weixin.qq.comï¼ˆç™»å½•åè¿›å…¥ã€Œå†…å®¹ç®¡ç†ã€â†’ã€Œè‰ç¨¿ç®±ã€ï¼‰

ç”Ÿæˆçš„æ–‡ä»¶ï¼š
â€¢ $output_dir/$slug.mdï¼ˆMarkdown æºæ–‡ä»¶ï¼‰
â€¢ $output_dir/$slug.htmlï¼ˆHTML æ–‡ä»¶ï¼‰
â€¢ $output_dir/$slug-cover.jpgï¼ˆå°é¢å›¾ï¼‰
```

---

## æµç¨‹ 2: é“¾æ¥æ–‡ç« å‘å¸ƒ

å½“ç”¨æˆ·è¾“å…¥å•ä¸ªæ–‡ç« é“¾æ¥æ—¶ä½¿ç”¨æ­¤æµç¨‹ã€‚

### å‘å¸ƒè¿›åº¦æ¸…å•

å¤åˆ¶æ­¤æ¸…å•å¹¶åœ¨å®Œæˆæ—¶å‹¾é€‰ï¼š

```
é“¾æ¥å‘å¸ƒè¿›åº¦ï¼š
- [ ] æ­¥éª¤ 0: åŠ è½½åå¥½è®¾ç½®
- [ ] æ­¥éª¤ 1: é“¾æ¥éªŒè¯
- [ ] æ­¥éª¤ 2: æ–‡ç« ä¸‹è½½ä¸è§£æ
- [ ] æ­¥éª¤ 3: å›¾ç‰‡ä¸‹è½½ä¸æ¸…æ´—
- [ ] æ­¥éª¤ 4: æ ·å¼è½¬æ¢ï¼ˆCSS å†…è”ï¼‰
- [ ] æ­¥éª¤ 5: ç”¨æˆ·ç¡®è®¤
- [ ] æ­¥éª¤ 6: å‡†å¤‡å°é¢å›¾
- [ ] æ­¥éª¤ 7: æ‰§è¡Œå‘å¸ƒ
- [ ] æ­¥éª¤ 8: å®ŒæˆæŠ¥å‘Š
```

### æ­¥éª¤ 0: åŠ è½½åå¥½è®¾ç½®

æ£€æŸ¥å¹¶åŠ è½½ EXTEND.md è®¾ç½®ã€‚

### æ­¥éª¤ 1: é“¾æ¥éªŒè¯

éªŒè¯é“¾æ¥å¯è®¿é—®æ€§ï¼š

```bash
# æ£€æŸ¥é“¾æ¥çŠ¶æ€
status_code=$(curl -sI -w "%{http_code}" -o /dev/null "$url")
if [ "$status_code" = "200" ]; then
  echo "é“¾æ¥æœ‰æ•ˆ"
else
  echo "é“¾æ¥æ— æ³•è®¿é—®ï¼ŒçŠ¶æ€ç : $status_code"
fi
```

### æ­¥éª¤ 2: æ–‡ç« ä¸‹è½½ä¸è§£æ

ä½¿ç”¨ WebFetch è·å–æ–‡ç« å†…å®¹ï¼š

```typescript
const article = await WebFetch(url, `
è¯·æå–ä»¥ä¸‹ä¿¡æ¯å¹¶ä»¥ JSON æ ¼å¼è¿”å›ï¼š

{
  "title": "æ–‡ç« æ ‡é¢˜",
  "author": "ä½œè€…ï¼ˆå¦‚æœæœ‰ï¼‰",
  "summary": "æ–‡ç« æ‘˜è¦æˆ–ç®€ä»‹ï¼ˆ120å­—ä»¥å†…ï¼‰",
  "content": "HTML æ ¼å¼çš„æ­£æ–‡å†…å®¹ï¼Œä¿ç•™åŸå§‹æ ·å¼å’Œç»“æ„",
  "images": ["å›¾ç‰‡URLæ•°ç»„"],
  "featureImage": "å°é¢å›¾URLï¼ˆå¦‚æœæœ‰ï¼‰",
  "publishDate": "å‘å¸ƒæ—¥æœŸï¼ˆå¦‚æœæœ‰ï¼‰"
}

æ³¨æ„ï¼š
- content éœ€è¦åŒ…å«å®Œæ•´çš„ HTML æ ‡ç­¾å’Œæ ·å¼
- images åŒ…å«æ–‡ç« ä¸­æ‰€æœ‰çš„å›¾ç‰‡URL
- ä¿ç•™åŸæ–‡çš„æ®µè½ã€æ ‡é¢˜ã€åˆ—è¡¨ç­‰ç»“æ„
`);
```

### æ­¥éª¤ 3: å›¾ç‰‡ä¸‹è½½ä¸æ¸…æ´—

1. **åˆ›å»ºä¸´æ—¶ç›®å½•**ï¼š

```bash
temp_dir="wechat-temp/$(date +%Y%m%d-%H%M%S)"
mkdir -p "$temp_dir/images"
```

2. **ä¸‹è½½æ‰€æœ‰å›¾ç‰‡**ï¼š

```bash
# è§£æå›¾ç‰‡URLæ•°ç»„å¹¶ä¸‹è½½
image_index=1
for img_url in "${images[@]}"; do
  # è·å–æ–‡ä»¶æ‰©å±•å
  ext="${img_url##*.}"
  ext="${ext%%\?*}"  # ç§»é™¤URLå‚æ•°

  # ä¸‹è½½å›¾ç‰‡
  output_file="$temp_dir/images/image_${image_index}.${ext}"
  curl -L -o "$output_file" "$img_url" 2>/dev/null

  image_index=$((image_index + 1))
done
```

3. **å›¾ç‰‡å…ƒæ•°æ®æ¸…æ´—**ï¼š

è„šæœ¬ `wechat-api.ts` ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ¸…æ´—ï¼š

- **æ£€æµ‹ JPEG å›¾ç‰‡**ä¸­çš„éæ ‡å‡†å…ƒæ•°æ®
- **æ¸…é™¤ AIGC/Coze æ ‡è®°**ï¼ˆå¾®ä¿¡ä¸æ”¯æŒï¼‰
- **ä¿ç•™æœ‰æ•ˆçš„ EXIF æ•°æ®**å’Œå›¾åƒå†…å®¹
- **è‡ªåŠ¨é‡è¯•**ï¼šå¦‚æœä¸Šä¼ å¤±è´¥ï¼ˆé”™è¯¯ç  40113ï¼‰ï¼Œå¼ºåˆ¶æ¸…æ´—åé‡è¯•

ç®—æ³•ï¼ˆå‚è€ƒ `scripts/wechat-api.ts:105-180`ï¼‰ï¼š

```typescript
function cleanImageMetadata(buffer: Buffer): Buffer {
  // æ£€æŸ¥ JPEG ç­¾å
  if (buffer[0] !== 0xff || buffer[1] !== 0xd8) return buffer;

  // æ£€æµ‹ AIGC æ ‡è®°
  const headerStr = buffer.slice(0, 2048).toString('binary');
  const hasAigcMarker = headerStr.includes('AIGC{') || headerStr.includes('Coze');

  if (!hasAigcMarker) return buffer;

  // è·³è¿‡éæ ‡å‡† APP æ®µï¼ˆ0xeb, 0xec ç­‰ï¼‰
  // ä¿ç•™æ ‡å‡†æ®µï¼ˆAPP0-APP9, DQT, SOF ç­‰ï¼‰
  // è¿”å›æ¸…æ´—åçš„ buffer
}
```

### æ­¥éª¤ 4: æ ·å¼è½¬æ¢ï¼ˆCSS å†…è”ï¼‰

**å…³é”®æ­¥éª¤**ï¼šå¾®ä¿¡å…¬ä¼—å·ä¸æ”¯æŒ `<style>` æ ‡ç­¾ï¼Œå¿…é¡»å°† CSS è½¬ä¸ºå†…è”æ ·å¼ã€‚

1. **ä¿å­˜åŸå§‹ HTML**ï¼š

```bash
echo "$html_content" > "$temp_dir/original.html"
```

2. **æ‰§è¡Œ CSS å†…è”è½¬æ¢**ï¼š

```bash
# ä½¿ç”¨ wechat-api.ts çš„å†…è”è½¬æ¢åŠŸèƒ½
# æ³¨æ„ï¼šè¿™é‡Œå…ˆç”Ÿæˆå¤„ç†åçš„ HTMLï¼Œä¸ç«‹å³å‘å¸ƒ
${SKILL_DIR}/bin/wechat-api \
  "$temp_dir/original.html" \
  --inline-css \
  --output "$temp_dir/processed.html" \
  --dry-run
```

3. **æ›¿æ¢å›¾ç‰‡è·¯å¾„**ï¼š

```bash
# å°†è¿œç¨‹å›¾ç‰‡URLæ›¿æ¢ä¸ºæœ¬åœ°è·¯å¾„
for i in {1..${#images[@]}}; do
  sed -i "s|${images[$i-1]}|$temp_dir/images/image_$i.jpg|g" "$temp_dir/processed.html"
done
```

### æ­¥éª¤ 5: ç”¨æˆ·ç¡®è®¤

å±•ç¤ºå¤„ç†ç»“æœå¹¶è¯¢é—®ï¼š

```
æ–‡ç« å¤„ç†å®Œæˆ

ğŸ“„ æ ‡é¢˜ï¼š$title
âœï¸ ä½œè€…ï¼š$author
ğŸ“ æ‘˜è¦ï¼š$summary
ğŸŒ åŸæ–‡ï¼š$original_url
ğŸ–¼ï¸ å›¾ç‰‡ï¼šå…± $image_count å¼ ï¼ˆå·²ä¸‹è½½å¹¶æ¸…æ´—å…ƒæ•°æ®ï¼‰
ğŸ¨ æ ·å¼ï¼šå·²è½¬æ¢ä¸ºå†…è”æ ·å¼ï¼ˆç¬¦åˆå¾®ä¿¡è§„èŒƒï¼‰

HTML å·²ä¿å­˜è‡³ï¼š$temp_dir/processed.html

è¯·é€‰æ‹©æ“ä½œ
```

ä½¿ç”¨ AskUserQuestionï¼š

```
header: "å‘å¸ƒé€‰é¡¹"
é€‰é¡¹ï¼š
- ç›´æ¥å‘å¸ƒï¼ˆAPIï¼‰- å¿«é€Ÿå‘å¸ƒåˆ°è‰ç¨¿ç®±ï¼ˆæ¨èï¼‰
- æµè§ˆå™¨å‘å¸ƒ - æ‰“å¼€æµè§ˆå™¨å¯è§†åŒ–æ“ä½œ
- ä»…è¾“å‡º HTML - ä¿å­˜æ–‡ä»¶ï¼Œç¨åæ‰‹åŠ¨å¤„ç†
- å–æ¶ˆ - ä¸ä¿å­˜
```

### æ­¥éª¤ 6: å‡†å¤‡å°é¢å›¾

ä¸æµç¨‹ 1 çš„æ­¥éª¤ 7 ç›¸åŒã€‚

å¦‚æœåŸæ–‡æœ‰ `featureImage`ï¼Œä¼˜å…ˆä½¿ç”¨ï¼›å¦åˆ™è¯¢é—®ç”¨æˆ·é€‰æ‹©ã€‚

### æ­¥éª¤ 7: æ‰§è¡Œå‘å¸ƒ

æ ¹æ®ç”¨æˆ·é€‰æ‹©æ‰§è¡Œï¼š

#### é€‰é¡¹ A: ç›´æ¥å‘å¸ƒï¼ˆAPIï¼‰

```bash
${SKILL_DIR}/bin/wechat-api \
  "$temp_dir/processed.html" \
  --title "$title" \
  --summary "$summary" \
  --cover "$cover_image" \
  --inline-css
```

**API æ–¹å¼ç‰¹æ€§**ï¼š
- âœ“ è‡ªåŠ¨ä¸‹è½½è¿œç¨‹å›¾ç‰‡
- âœ“ è‡ªåŠ¨æ¸…æ´—å›¾ç‰‡å…ƒæ•°æ®ï¼ˆAIGC/Coze æ ‡è®°ï¼‰
- âœ“ å¦‚æœä¸Šä¼ å¤±è´¥ï¼ˆ40113ï¼‰ï¼Œå¼ºåˆ¶æ¸…æ´—åé‡è¯•
- âœ“ æ”¯æŒæ ¼å¼ï¼šJPEG, PNG, GIF, WebP

#### é€‰é¡¹ B: æµè§ˆå™¨å‘å¸ƒ

```bash
${SKILL_DIR}/bin/wechat-article \
  --html "$temp_dir/processed.html" \
  --title "$title" \
  --summary "$summary"
```

#### é€‰é¡¹ C: ä»…è¾“å‡º HTML

```bash
# å¤åˆ¶åˆ°æ°¸ä¹…ä½ç½®
output_path="wechat-articles/$(date +%Y-%m-%d)/$slug.html"
mkdir -p "$(dirname "$output_path")"
cp "$temp_dir/processed.html" "$output_path"
cp -r "$temp_dir/images" "$(dirname "$output_path")/"

echo "âœ“ HTML å·²ä¿å­˜è‡³ï¼š$output_path"
echo "âœ“ å›¾ç‰‡å·²ä¿å­˜è‡³ï¼š$(dirname "$output_path")/images/"
```

### æ­¥éª¤ 8: å®ŒæˆæŠ¥å‘Š

```
âœ“ é“¾æ¥æ–‡ç« å‘å¸ƒå®Œæˆï¼

åŸæ–‡ä¿¡æ¯ï¼š
â€¢ é“¾æ¥ï¼š$original_url
â€¢ æ ‡é¢˜ï¼š$title
â€¢ ä½œè€…ï¼š$author

å¤„ç†ä¿¡æ¯ï¼š
â€¢ ä¸‹è½½å¹¶è½¬æ¢ HTML
â€¢ æ¸…æ´— $image_count å¼ å›¾ç‰‡å…ƒæ•°æ®
â€¢ è½¬æ¢æ ·å¼ä¸ºå†…è”æ ¼å¼
â€¢ ç”Ÿæˆå°é¢å›¾ï¼š$cover_source

å‘å¸ƒä¿¡æ¯ï¼š
â€¢ æ–¹å¼ï¼šAPI / æµè§ˆå™¨
â€¢ ä¸»é¢˜ï¼šä¿ç•™åŸæ ·å¼
â€¢ çŠ¶æ€ï¼šâœ“ è‰ç¨¿å·²ä¿å­˜

ç»“æœï¼š
â€¢ media_id: $media_id

ä¸‹ä¸€æ­¥ï¼š
â†’ ç®¡ç†è‰ç¨¿ï¼šhttps://mp.weixin.qq.comï¼ˆç™»å½•åè¿›å…¥ã€Œå†…å®¹ç®¡ç†ã€â†’ã€Œè‰ç¨¿ç®±ã€ï¼‰

ç”Ÿæˆçš„æ–‡ä»¶ï¼š
â€¢ $output_pathï¼ˆå¤„ç†åçš„ HTMLï¼‰
â€¢ $(dirname "$output_path")/images/ï¼ˆæ¸…æ´—åçš„å›¾ç‰‡ï¼‰
```

---

## æµç¨‹ 3: Markdown æ–‡ä»¶å‘å¸ƒ

å½“ç”¨æˆ·æä¾› `.md` æ–‡ä»¶è·¯å¾„æ—¶ä½¿ç”¨æ­¤æµç¨‹ã€‚

### å¿«é€Ÿå‘å¸ƒ

```bash
# ä¸€é”®è½¬æ¢å¹¶å‘å¸ƒ
${SKILL_DIR}/bin/md-to-wechat \
  "$markdown_file" \
  --theme grace \
  --output ./output

# ç„¶åä½¿ç”¨ API å‘å¸ƒ
${SKILL_DIR}/bin/wechat-api \
  "$html_output" \
  --inline-css \
  --cover "$cover_image"
```

### æ­¥éª¤è¯´æ˜

1. **è§£æ Markdown**ï¼šæå– frontmatterï¼ˆtitle, author, summary ç­‰ï¼‰
2. **è½¬æ¢ä¸º HTML**ï¼šåº”ç”¨ä¸»é¢˜æ ·å¼
3. **å¤„ç†å›¾ç‰‡**ï¼šä¸‹è½½è¿œç¨‹å›¾ç‰‡ï¼Œæ›¿æ¢ä¸ºæœ¬åœ°è·¯å¾„
4. **å‘å¸ƒ**ï¼šåŒæµç¨‹ 1 çš„æ­¥éª¤ 8

---

## æµç¨‹ 4: HTML æ–‡ä»¶ç›´æ¥å‘å¸ƒ

å½“ç”¨æˆ·æä¾› `.html` æ–‡ä»¶è·¯å¾„æ—¶ä½¿ç”¨æ­¤æµç¨‹ã€‚

### å¿«é€Ÿå‘å¸ƒ

```bash
# ç›´æ¥å‘å¸ƒï¼ˆè‡ªåŠ¨å†…è” CSSï¼‰
${SKILL_DIR}/bin/wechat-api \
  "$html_file" \
  --title "æ–‡ç« æ ‡é¢˜" \
  --summary "æ‘˜è¦" \
  --cover "$cover_image" \
  --inline-css
```

**æ³¨æ„**ï¼šå¿…é¡»ä½¿ç”¨ `--inline-css` å‚æ•°ï¼Œå¦åˆ™æ ·å¼ä¼šä¸¢å¤±ã€‚

---

## å›¾æ–‡å‘å¸ƒï¼ˆå›¾æ–‡æ¶ˆæ¯ï¼‰

ç”¨äºå‘å¸ƒçŸ­å†…å®¹ + å¤šå¼ å›¾ç‰‡ï¼ˆæœ€å¤š 9 å¼ ï¼‰ã€‚

### ä½¿ç”¨æ–¹æ³•

```bash
# ä» Markdown æ–‡ä»¶å‘å¸ƒ
${SKILL_DIR}/bin/wechat-browser \
  --markdown article.md \
  --images ./images/

# ç›´æ¥æŒ‡å®šå†…å®¹å’Œå›¾ç‰‡
${SKILL_DIR}/bin/wechat-browser \
  --title "æ ‡é¢˜" \
  --content "å†…å®¹" \
  --image img1.png \
  --image img2.png \
  --submit
```

### å‚æ•°è¯´æ˜

| å‚æ•° | æè¿° |
|------|------|
| `--markdown <path>` | Markdown æ–‡ä»¶ |
| `--title <text>` | æ ‡é¢˜ |
| `--content <text>` | å†…å®¹æ–‡å­— |
| `--image <path>` | å›¾ç‰‡è·¯å¾„ï¼ˆå¯å¤šæ¬¡ä½¿ç”¨ï¼‰|
| `--images <dir>` | å›¾ç‰‡ç›®å½• |
| `--submit` | è‡ªåŠ¨æäº¤ |

è¯¦è§ï¼š[references/image-text-posting.md](references/image-text-posting.md)

---

## ä¸»é¢˜æ ·å¼

å†…ç½®ä¸‰ç§ä¸»é¢˜ï¼ˆä½äº `scripts/md/themes/`ï¼‰ï¼š

### default - ç»å…¸ä¸»é¢˜

- ä¼ ç»Ÿæ’ç‰ˆé£æ ¼
- æ ‡é¢˜å±…ä¸­ï¼Œå¸¦åº•è¾¹è£…é¥°
- äºŒçº§æ ‡é¢˜ï¼šç™½å­—å½©åº•
- é€‚åˆï¼šæ­£å¼æ–‡ç« ã€è¡Œä¸šæŠ¥å‘Š

### grace - ä¼˜é›…ä¸»é¢˜ï¼ˆæ¨èï¼‰

- æ–‡å­—å¸¦æŸ”å’Œé˜´å½±
- åœ†è§’å¡ç‰‡å¼å¼•ç”¨å—
- ç²¾è‡´çš„åˆ—è¡¨æ ·å¼
- é€‚åˆï¼šç§‘æ™®æ–‡ç« ã€ä¸ªäººåšå®¢

### simple - ç®€æ´ä¸»é¢˜

- ç°ä»£æç®€é£æ ¼
- ä¸å¯¹ç§°åœ†è§’è®¾è®¡
- æ¸…çˆ½ç•™ç™½
- é€‚åˆï¼šæ•™ç¨‹ã€çŸ­æ–‡

### è‡ªå®šä¹‰ä¸»é¢˜

1. åœ¨ `scripts/md/themes/` åˆ›å»ºæ–°çš„ CSS æ–‡ä»¶
2. åŸºäº `base.css` æ‰©å±•æ ·å¼
3. ä½¿ç”¨ `--theme <name>` å‚æ•°åº”ç”¨

---

## é…ç½®ä¸ç¯å¢ƒ

### ç¯å¢ƒå˜é‡

ä»ä»¥ä¸‹ä½ç½®åŠ è½½é…ç½®ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š

1. ç¯å¢ƒå˜é‡
2. `<cwd>/.awesome-skills/.env`
3. `~/.awesome-skills/.env`

å¿…éœ€çš„ç¯å¢ƒå˜é‡ï¼ˆAPI å‘å¸ƒæ–¹å¼ï¼‰ï¼š

```bash
WECHAT_APP_ID=your_app_id
WECHAT_APP_SECRET=your_app_secret
```

å¯é€‰çš„ç¯å¢ƒå˜é‡ï¼š

```bash
WECHAT_BROWSER_CHROME_PATH=/path/to/chrome  # è‡ªå®šä¹‰ Chrome è·¯å¾„
```

### EXTEND.md é…ç½®ç¤ºä¾‹

```markdown
# wechat-article-maker é…ç½®

## é»˜è®¤è®¾ç½®

- ä¸»é¢˜ï¼šgrace
- å‘å¸ƒæ–¹å¼ï¼šapi
- ä½œè€…ï¼šå®ç‰
- Chrome é…ç½®æ–‡ä»¶ï¼š~/.chrome-wechat

## è‡ªåŠ¨æ“ä½œ

- è‡ªåŠ¨ç”Ÿæˆå°é¢ï¼štrue
- è‡ªåŠ¨æ¸…æ´—å›¾ç‰‡ï¼štrue
- è‡ªåŠ¨å†…è”æ ·å¼ï¼štrue

## åˆ›ä½œåå¥½

- é»˜è®¤æ–‡ç« é£æ ¼ï¼šä¸“ä¸šåˆ†æ
- é»˜è®¤æ–‡ç« é•¿åº¦ï¼šä¸­ç­‰ï¼ˆ1500-2500å­—ï¼‰
- é»˜è®¤å¼•ç”¨æ–¹å¼ï¼šæ·±åº¦å¼•ç”¨å’Œåˆ†æ
```

---

## æŠ€æœ¯ç»†èŠ‚

### Markdown æ¸²æŸ“å¼•æ“

ä½¿ç”¨ `markdown-it` åŠæ‰©å±•ï¼ˆä½äº `scripts/md/`ï¼‰ï¼š

- **åŸºç¡€æ¸²æŸ“**ï¼š`render.ts`
- **æ‰©å±•æ’ä»¶**ï¼š
  - `alert.ts` - GitHub é£æ ¼æç¤ºå—
  - `footnotes.ts` - è„šæ³¨æ”¯æŒ
  - `katex.ts` - æ•°å­¦å…¬å¼
  - `toc.ts` - ç›®å½•ç”Ÿæˆ
  - `infographic.ts` - ä¿¡æ¯å›¾
  - `ruby.ts` - æ³¨éŸ³
  - `slider.ts` - æ»‘å—
  - `plantuml.ts` - UML å›¾è¡¨

### å›¾ç‰‡å¤„ç†ç®—æ³•

**å…ƒæ•°æ®æ¸…æ´—**ï¼ˆ`scripts/wechat-api.ts:105-180`ï¼‰ï¼š

1. æ£€æŸ¥ JPEG æ–‡ä»¶ç­¾åï¼ˆ0xFFD8ï¼‰
2. æ‰«æå‰ 2KBï¼Œæ£€æµ‹ AIGC/Coze æ ‡è®°
3. å¦‚æœæ£€æµ‹åˆ°éæ ‡å‡†å…ƒæ•°æ®ï¼š
   - è·³è¿‡éæ ‡å‡† APP æ®µï¼ˆ0xEB-0xEFï¼‰
   - ä¿ç•™æ ‡å‡†æ®µï¼ˆAPP0-APP9, DQT, SOF, DHT ç­‰ï¼‰
4. é‡æ„ JPEG æ–‡ä»¶ï¼ŒåªåŒ…å«æ ‡å‡†æ®µ

**è‡ªåŠ¨é‡è¯•é€»è¾‘**ï¼š

```typescript
try {
  // å°è¯•ä¸Šä¼ åŸå§‹å›¾ç‰‡
  await uploadImage(imageBuffer);
} catch (error) {
  if (error.code === 40113) {  // ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹
    // å¼ºåˆ¶æ¸…æ´—å¹¶é‡è¯•
    const cleanedBuffer = cleanImageMetadata(imageBuffer);
    await uploadImage(cleanedBuffer);
  }
}
```

### CSS å†…è”è½¬æ¢

ä½¿ç”¨ `juice` æˆ–ç±»ä¼¼åº“å°† CSS è§„åˆ™è½¬æ¢ä¸ºå†…è”æ ·å¼ï¼š

**ä¹‹å‰**ï¼š
```html
<style>
  h1 { color: blue; font-size: 24px; }
</style>
<h1>æ ‡é¢˜</h1>
```

**ä¹‹å**ï¼š
```html
<h1 style="color: blue; font-size: 24px;">æ ‡é¢˜</h1>
```

**ä¸ºä»€ä¹ˆéœ€è¦**ï¼šå¾®ä¿¡å…¬ä¼—å·ç¼–è¾‘å™¨ä¸æ”¯æŒ `<style>` æ ‡ç­¾ï¼Œåªæ¥å—å†…è”æ ·å¼ã€‚

### å°é¢å›¾ç”Ÿæˆ

**æ–¹å¼ 1: çº¯ Node.jsï¼ˆæ— ç³»ç»Ÿä¾èµ–ï¼‰**

è„šæœ¬ï¼š`scripts/generate-cover.ts`

```bash
${SKILL_DIR}/bin/generate-cover \
  --title "æ–‡ç« æ ‡é¢˜" \
  --output cover.jpg \
  --gradient-start "#667eea" \
  --gradient-end "#764ba2" \
  --width 900 \
  --height 500
```

ç‰¹æ€§ï¼š
- âœ“ æ— éœ€ ImageMagick
- âœ“ æ”¯æŒå¤šç§å›¾ç‰‡åº“ï¼ˆ@napi-rs/canvasã€sharpã€SVGï¼‰
- âœ“ è‡ªåŠ¨æ¢è¡Œé•¿æ ‡é¢˜
- âœ“ å¯è‡ªå®šä¹‰é¢œè‰²å’Œå°ºå¯¸
- âœ“ è·¨å¹³å°ï¼ˆNode.js/Bunï¼‰

**æ–¹å¼ 2: ImageMagickï¼ˆå¦‚å·²å®‰è£…ï¼‰**

```bash
convert -size 900x500 \
  -define gradient:angle=135 \
  gradient:'#667eea'-'#764ba2' \
  -gravity center \
  -font "DejaVu-Sans-Bold" \
  -pointsize 48 \
  -fill white \
  -annotate +0-30 "æ ‡é¢˜ç¬¬ä¸€è¡Œ" \
  -pointsize 36 \
  -annotate +0+30 "æ ‡é¢˜ç¬¬äºŒè¡Œ" \
  cover.jpg
```

---

## æ•…éšœæ’æŸ¥

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|---------|
| ä¾èµ–æœªå®‰è£… | è¿è¡Œ `${SKILL_DIR}/bin/install-deps.sh` |
| Cannot find module 'markdown-it' | ä¾èµ–æœªå®‰è£…ï¼Œè¿è¡Œå®‰è£…è„šæœ¬ |
| å°é¢å›¾ç”Ÿæˆ SVG è€Œé PNG/JPEG | å¯é€‰ä¾èµ–æœªå®‰è£…ï¼Œè¿è¡Œ `cd ${SKILL_DIR}/scripts && npm install @napi-rs/canvas` æˆ–æ¥å— SVG æ ¼å¼ |
| é“¾æ¥æ— æ³•è®¿é—® | æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œå°è¯•ä½¿ç”¨ä»£ç†æˆ– VPN |
| å›¾ç‰‡ä¸Šä¼ å¤±è´¥ (40113) | è‡ªåŠ¨è§¦å‘å…ƒæ•°æ®æ¸…æ´—ï¼Œæ— éœ€æ‰‹åŠ¨å¤„ç† |
| æ ·å¼ä¸¢å¤± | ç¡®ä¿ä½¿ç”¨äº† `--inline-css` å‚æ•° |
| API é”™è¯¯ 40001 | access_token æ— æ•ˆæˆ–è¿‡æœŸï¼Œæ£€æŸ¥ API å‡­è¯ |
| API é”™è¯¯ 40164 (invalid ip) | åœ¨å¾®ä¿¡å…¬ä¼—å·åå°æ·»åŠ æœåŠ¡å™¨ IP åˆ°ç™½åå•ï¼š<br/>mp.weixin.qq.com â†’ å¼€å‘ â†’ åŸºæœ¬é…ç½® â†’ IPç™½åå• |
| Chrome æœªæ‰¾åˆ° | è®¾ç½®ç¯å¢ƒå˜é‡ `WECHAT_BROWSER_CHROME_PATH` |
| æ ‡é¢˜/æ‘˜è¦ç¼ºå¤± | æ‰‹åŠ¨æŒ‡å®š `--title` å’Œ `--summary` å‚æ•° |
| ç²˜è´´å¤±è´¥ï¼ˆæµè§ˆå™¨æ–¹å¼ï¼‰| æ£€æŸ¥ç³»ç»Ÿå‰ªè´´æ¿æƒé™ |
| Markdown è½¬æ¢é”™è¯¯ | æ£€æŸ¥ Markdown è¯­æ³•ï¼Œç¡®ä¿ frontmatter æ ¼å¼æ­£ç¡® |

---

## æœ€ä½³å®è·µ

### 1. å†…å®¹åˆ›ä½œ

- âœ“ æä¾›æ¸…æ™°çš„åˆ›ä½œæ„å›¾å’Œç›®æ ‡è¯»è€…
- âœ“ å¼•ç”¨é“¾æ¥æ—¶è¯´æ˜å¦‚ä½•ä½¿ç”¨ï¼ˆæ·±åº¦åˆ†æ vs ç®€è¦æåŠï¼‰
- âœ“ é¢„è§ˆåå†å‘å¸ƒï¼Œé¿å…è¿”å·¥
- âœ“ ä¿å­˜ Markdown æºæ–‡ä»¶ï¼Œä¾¿äºåç»­ä¿®æ”¹

### 2. é“¾æ¥å‘å¸ƒ

- âœ“ ç¡®è®¤é“¾æ¥å¯è®¿é—®ï¼ˆé¿å…éœ€è¦ç™»å½•çš„é¡µé¢ï¼‰
- âœ“ æ£€æŸ¥åŸæ–‡å›¾ç‰‡è´¨é‡ï¼ˆæ¨¡ç³Šå›¾ç‰‡å»ºè®®æ›¿æ¢ï¼‰
- âœ“ ä¼˜å…ˆä½¿ç”¨ API æ–¹å¼ï¼ˆå¿«é€Ÿå¯é ï¼‰
- âœ“ å‘å¸ƒå‰é¢„è§ˆå¤„ç†åçš„ HTML

### 3. æ ·å¼ä¸æ’ç‰ˆ

- âœ“ ä¸“ä¸šæ–‡ç« ç”¨ `default` ä¸»é¢˜
- âœ“ å¤§ä¼—å†…å®¹ç”¨ `grace` ä¸»é¢˜ï¼ˆæ¨èï¼‰
- âœ“ æ•™ç¨‹ç±»ç”¨ `simple` ä¸»é¢˜
- âœ“ ç¡®ä¿å›¾ç‰‡æ¸…æ™°åº¦ï¼ˆæ¨è 2x åˆ†è¾¨ç‡ï¼‰
- âœ“ å°é¢å›¾ä½¿ç”¨ 2:1 æ¯”ä¾‹ï¼ˆ900x500pxï¼‰

### 4. å‘å¸ƒæµç¨‹

- âœ“ é¦–æ¬¡ä½¿ç”¨å…ˆé…ç½® API å‡­è¯
- âœ“ å‘å¸ƒå‰åœ¨è‰ç¨¿ç®±é¢„è§ˆ
- âœ“ ä¿ç•™æºæ–‡ä»¶ï¼ˆmarkdown/htmlï¼‰ä»¥ä¾¿åç»­ä¿®æ”¹
- âœ“ å®šæœŸå¤‡ä»½å·²å‘å¸ƒçš„æ–‡ç« 

### 5. å›¾ç‰‡å¤„ç†

- âœ“ ä½¿ç”¨é«˜è´¨é‡åŸå›¾ï¼ˆé¿å…äºŒæ¬¡å‹ç¼©ï¼‰
- âœ“ å›¾ç‰‡å°ºå¯¸é€‚ä¸­ï¼ˆå®½åº¦ 800-1200pxï¼‰
- âœ“ æ–‡ä»¶å¤§å°æ§åˆ¶åœ¨ 1MB ä»¥å†…
- âœ“ å¦‚æœ‰ AIGC å›¾ç‰‡ï¼Œè®©è„šæœ¬è‡ªåŠ¨æ¸…æ´—

---

## åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | å†…å®¹åˆ›ä½œ | é“¾æ¥å‘å¸ƒ | Markdown å‘å¸ƒ | HTML å‘å¸ƒ | å›¾æ–‡å‘å¸ƒ |
|------|---------|---------|--------------|----------|---------|
| è¾“å…¥ç±»å‹ | æ–‡æœ¬ + é“¾æ¥ | å•ä¸ªé“¾æ¥ | .md æ–‡ä»¶ | .html æ–‡ä»¶ | çŸ­æ–‡ + å›¾ç‰‡ |
| å†…å®¹ç†è§£ | âœ“ | âœ“ | âœ— | âœ— | âœ— |
| æ–‡ç« ç”Ÿæˆ | âœ“ | âœ— | âœ— | âœ— | âœ— |
| Markdown è½¬æ¢ | âœ“ | âœ— | âœ“ | âœ— | âœ“ |
| ä¸»é¢˜æ ·å¼ | âœ“ | ä¿ç•™åŸæ · | âœ“ | ä¿ç•™åŸæ · | âœ— |
| å›¾ç‰‡æ¸…æ´— | âœ“ | âœ“ | âœ“ | âœ“ | âœ— |
| CSS å†…è” | âœ“ | âœ“ | âœ“ | âœ“ | âœ— |
| å°é¢ç”Ÿæˆ | âœ“ | âœ“ | âœ“ | âœ“ | âœ— |
| API å‘å¸ƒ | âœ“ | âœ“ | âœ“ | âœ“ | âœ— |
| æµè§ˆå™¨å‘å¸ƒ | âœ“ | âœ“ | âœ“ | âœ“ | âœ“ |
| é€‚ç”¨åœºæ™¯ | åŸåˆ›å†…å®¹ | è½¬è½½/åˆ†äº« | æœ¬åœ°æ–‡ç«  | ç°æˆ HTML | å›¾ç‰‡å±•ç¤º |

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: åˆ›ä½œæ–°æ–‡ç« ï¼ˆçº¯æ–‡æœ¬ï¼‰

```
ç”¨æˆ·ï¼šåˆ›ä½œä¸€ç¯‡å…³äº AI ç¼–ç¨‹åŠ©æ‰‹å‘å±•è¶‹åŠ¿çš„æ–‡ç« 

Agentï¼š
âœ“ åˆ†æå†…å®¹ç±»å‹ â†’ çº¯æ–‡æœ¬åˆ›ä½œæ¨¡å¼
âœ“ è¯¢é—®æ–‡ç« é£æ ¼ã€é•¿åº¦ â†’ ç”¨æˆ·é€‰æ‹©"ä¸“ä¸šåˆ†æ"ã€"ä¸­ç­‰"
âœ“ ç”Ÿæˆæ–‡ç« å¹¶å±•ç¤º
âœ“ ç”¨æˆ·ç¡®è®¤åè½¬æ¢ä¸º HTMLï¼ˆgrace ä¸»é¢˜ï¼‰
âœ“ è‡ªåŠ¨ç”Ÿæˆå°é¢å›¾
âœ“ ä½¿ç”¨ API å‘å¸ƒåˆ°è‰ç¨¿ç®±

ç»“æœï¼š
â€¢ æ–‡ç« ä¿å­˜è‡³ wechat-articles/2026-02-09/ai-coding-assistant-trends.md
â€¢ HTML è¾“å‡ºè‡³ wechat-articles/2026-02-09/ai-coding-assistant-trends.html
â€¢ å°é¢å›¾ï¼šwechat-articles/2026-02-09/ai-coding-assistant-trends-cover.jpg
â€¢ å¾®ä¿¡è‰ç¨¿ç®± media_id: abc123...
```

### ç¤ºä¾‹ 2: åŸºäºé“¾æ¥åˆ›ä½œ

```
ç”¨æˆ·ï¼šåŸºäºè¿™ç¯‡æ–‡ç« åˆ›ä½œä¸€ç¯‡å…¬ä¼—å·æ–‡ç« ï¼Œæ·±åº¦åˆ†æå…¶ä¸­çš„è§‚ç‚¹ï¼š
https://example.com/ai-future

Agentï¼š
âœ“ æå–é“¾æ¥å¹¶è·å–å†…å®¹
âœ“ æ•´ç†å…³é”®è§‚ç‚¹å’Œæ•°æ®
âœ“ è¯¢é—®åˆ›ä½œæ–¹å‘ â†’ ç”¨æˆ·é€‰æ‹©"ä¸“ä¸šåˆ†æ"ã€"æ·±åº¦å¼•ç”¨"
âœ“ ç”Ÿæˆæ–‡ç« ï¼Œå¼•ç”¨åŸæ–‡ 3 ä¸ªæ ¸å¿ƒè§‚ç‚¹ï¼ŒåŠ å…¥è‡ªå·±çš„åˆ†æ
âœ“ ç”¨æˆ·ç¡®è®¤åå‘å¸ƒ

ç»“æœï¼š
â€¢ ç”Ÿæˆäº† 2300 å­—çš„æ·±åº¦åˆ†ææ–‡ç« 
â€¢ å¼•ç”¨äº†åŸæ–‡ 3 ä¸ªè§‚ç‚¹å’Œ 2 ä¸ªæ•°æ®
â€¢ æ·»åŠ äº†å‚è€ƒèµ„æ–™é“¾æ¥
â€¢ å·²å‘å¸ƒåˆ°å¾®ä¿¡è‰ç¨¿ç®±
```

### ç¤ºä¾‹ 3: ç›´æ¥å‘å¸ƒé“¾æ¥æ–‡ç« 

```
ç”¨æˆ·ï¼šå‘å¸ƒè¿™ç¯‡æ–‡ç« åˆ°å…¬ä¼—å·ï¼šhttps://blog.example.com/great-article

Agentï¼š
âœ“ è¯†åˆ«ä¸ºé“¾æ¥å‘å¸ƒæ¨¡å¼
âœ“ ä¸‹è½½æ–‡ç«  HTML å’Œ 5 å¼ å›¾ç‰‡
âœ“ æ¸…æ´—å›¾ç‰‡å…ƒæ•°æ®ï¼ˆæ£€æµ‹åˆ° 2 å¼ å« AIGC æ ‡è®°ï¼Œå·²æ¸…æ´—ï¼‰
âœ“ è½¬æ¢æ ·å¼ä¸ºå†…è”æ ¼å¼
âœ“ å±•ç¤ºå¤„ç†ç»“æœ
âœ“ ç”¨æˆ·ç¡®è®¤"ç›´æ¥å‘å¸ƒ"
âœ“ ä½¿ç”¨ API å‘å¸ƒ

ç»“æœï¼š
â€¢ å¤„ç†å HTMLï¼šwechat-temp/20260209-153000/processed.html
â€¢ æ¸…æ´—åå›¾ç‰‡ï¼šwechat-temp/20260209-153000/images/ (5å¼ )
â€¢ å¾®ä¿¡è‰ç¨¿ç®± media_id: xyz789...
```

### ç¤ºä¾‹ 4: Markdown æ–‡ä»¶å‘å¸ƒ

```
ç”¨æˆ·ï¼šå‘å¸ƒè¿™ä¸ª Markdown æ–‡ä»¶ï¼š./posts/my-article.md

Agentï¼š
âœ“ è¯»å–æ–‡ä»¶ï¼Œè§£æ frontmatter
âœ“ è¯¢é—®ä¸»é¢˜ â†’ ç”¨æˆ·é€‰æ‹© "grace"
âœ“ è½¬æ¢ä¸º HTMLï¼Œåº”ç”¨ä¸»é¢˜æ ·å¼
âœ“ ä¸‹è½½æ–‡ç« ä¸­çš„ 3 å¼ è¿œç¨‹å›¾ç‰‡
âœ“ è‡ªåŠ¨ç”Ÿæˆå°é¢å›¾ï¼ˆåŸºäºæ ‡é¢˜ï¼‰
âœ“ å‘å¸ƒåˆ°å¾®ä¿¡

ç»“æœï¼š
â€¢ HTML è¾“å‡ºè‡³ ./posts/my-article.html
â€¢ å°é¢å›¾ï¼š./posts/my-article-cover.jpg
â€¢ å·²å‘å¸ƒåˆ°è‰ç¨¿ç®±
```

### ç¤ºä¾‹ 5: å›¾æ–‡æ¶ˆæ¯å‘å¸ƒ

```
ç”¨æˆ·ï¼šå‘å¸ƒä¸€ç»„äº§å“å›¾ç‰‡åˆ°å…¬ä¼—å·ï¼Œæ ‡é¢˜æ˜¯"æ–°å“ä¸Šå¸‚"

Agentï¼š
âœ“ è¯†åˆ«ä¸ºå›¾æ–‡å‘å¸ƒæ¨¡å¼
âœ“ æ‰“å¼€æµè§ˆå™¨ï¼Œå®šä½åˆ°å›¾æ–‡æ¶ˆæ¯ç¼–è¾‘å™¨
âœ“ å¡«å†™æ ‡é¢˜
âœ“ ä¸Šä¼  6 å¼ å›¾ç‰‡
âœ“ æäº¤å‘å¸ƒ

ç»“æœï¼š
â€¢ å›¾æ–‡æ¶ˆæ¯å·²ä¿å­˜åˆ°è‰ç¨¿ç®±
â€¢ åŒ…å« 6 å¼ äº§å“å›¾ç‰‡
```

---

## å‚è€ƒæ–‡æ¡£

| ä¸»é¢˜ | æ–‡æ¡£ |
|------|------|
| å›¾æ–‡å‘å¸ƒå‚æ•°ã€è‡ªåŠ¨å‹ç¼© | [references/image-text-posting.md](references/image-text-posting.md) |
| æ–‡ç« ä¸»é¢˜ã€å›¾ç‰‡å¤„ç† | [references/article-posting.md](references/article-posting.md) |

---

## æƒé™è¦æ±‚

- **ç½‘ç»œè®¿é—®**ï¼šè·å–é“¾æ¥å†…å®¹ã€ä¸‹è½½å›¾ç‰‡
- **æ–‡ä»¶è¯»å†™**ï¼šä¿å­˜æ–‡ç« ã€å›¾ç‰‡å’Œé…ç½®
- **ç¯å¢ƒå˜é‡**ï¼šè¯»å–å¾®ä¿¡ API å‡­è¯
- **å¤–éƒ¨å‘½ä»¤**ï¼šè°ƒç”¨ bun/npx æ‰§è¡Œ TypeScript è„šæœ¬
- **æµè§ˆå™¨**ï¼ˆå¯é€‰ï¼‰ï¼šChrome ç”¨äºæµè§ˆå™¨å‘å¸ƒæ–¹å¼

---

## ä¾èµ–ä¸è®¸å¯

### æ ¸å¿ƒä¾èµ–

- **Bun/Node.js**ï¼šè¿è¡Œ TypeScript è„šæœ¬ï¼ˆNode.js >= 18.0.0ï¼‰
- **npm/bun**ï¼šåŒ…ç®¡ç†å™¨ï¼ˆç”¨äºå®‰è£…ä¾èµ–ï¼‰

### è‡ªåŠ¨å®‰è£…çš„ä¾èµ–

è¿è¡Œ `./install-deps.sh` ä¼šè‡ªåŠ¨å®‰è£…ï¼š

**å¿…éœ€åŒ…**ï¼š
- `markdown-it` - Markdown æ¸²æŸ“å¼•æ“
- `juice` - CSS å†…è”è½¬æ¢åº“

**å¯é€‰åŒ…**ï¼ˆå°é¢å›¾ç”Ÿæˆï¼‰ï¼š
- `@napi-rs/canvas` - é«˜æ€§èƒ½å›¾ç‰‡ç”Ÿæˆ
- `sharp` - å›¾ç‰‡å¤„ç†åº“

### è¿è¡Œæ—¶ä¾èµ–ï¼ˆå¯é€‰ï¼‰

- **Chrome/Chromium**ï¼šæµè§ˆå™¨å‘å¸ƒæ–¹å¼éœ€è¦
- **å¾®ä¿¡å…¬ä¼—å· API å‡­è¯**ï¼šAPI å‘å¸ƒæ–¹å¼éœ€è¦

### è®¸å¯è¯

- Markdown æ¸²æŸ“å¼•æ“åŸºäº MIT è®¸å¯è¯
- å¾®ä¿¡å…¬ä¼—å· API ä½¿ç”¨éœ€éµå®ˆå¾®ä¿¡å…¬ä¼—å¹³å°æœåŠ¡åè®®

---

## è‡´è°¢

æœ¬æŠ€èƒ½æ•´åˆäº†ä»¥ä¸‹åŠŸèƒ½å’ŒæŠ€æœ¯ï¼š

- **Markdown æ¸²æŸ“**ï¼šåŸºäº markdown-it åŠæ‰©å±•æ’ä»¶
- **æ ·å¼ä¸»é¢˜**ï¼šå‚è€ƒå¾®ä¿¡å…¬ä¼—å·ä¼˜ç§€æ’ç‰ˆå®è·µ
- **å›¾ç‰‡å¤„ç†**ï¼šJPEG å…ƒæ•°æ®æ¸…æ´—ç®—æ³•
- **å¾®ä¿¡ API**ï¼šå®˜æ–¹æ–‡æ¡£å’Œæœ€ä½³å®è·µ

---

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2026-02-09)

- âœ“ æ•´åˆå†…å®¹åˆ›ä½œå’Œé“¾æ¥å‘å¸ƒåŠŸèƒ½
- âœ“ å†…ç½® Markdown è½¬ HTML è½¬æ¢å™¨
- âœ“ æ”¯æŒä¸‰ç§ä¸»é¢˜æ ·å¼ï¼ˆdefault, grace, simpleï¼‰
- âœ“ è‡ªåŠ¨å›¾ç‰‡å…ƒæ•°æ®æ¸…æ´—
- âœ“ CSS è‡ªåŠ¨å†…è”è½¬æ¢
- âœ“ å°é¢å›¾ç”Ÿæˆï¼ˆæ— ç³»ç»Ÿä¾èµ–ï¼‰
- âœ“ API å’Œæµè§ˆå™¨ä¸¤ç§å‘å¸ƒæ–¹å¼
- âœ“ å®Œæ•´çš„å·¥ä½œæµç¨‹å’Œé”™è¯¯å¤„ç†

---

**æŠ€èƒ½ç‰ˆæœ¬**ï¼š1.0.0
**æœ€åæ›´æ–°**ï¼š2026-02-09
**ä½œè€…**ï¼šæ•´åˆè‡ª wechat-article-writer å’Œ baoyu-post-to-wechat
